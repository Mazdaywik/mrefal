$MODULE CoreBE::MSelfDiag;

$IMPORT MRefalRTS;

$ENTRY PrintMessage
  e.Message = <MRefalRTS::Prout e.Message>;

$ENTRY ExitFailure = <MRefalRTS::Exit 1>;

$ENTRY Log
  e.Message =
    <OpenLog>
    <MRefalRTS::Putout 19 e.Message>;

$ENTRY Log-T
  e.Message =
    <OpenLog>
    <MRefalRTS::Put 19 e.Message>;

OpenLog = <SwOpenLog (<G_LogOpened Y>)>;

$SWAP G_LogOpened;

SwOpenLog {
  (Y) = ;
  () = <MRefalRTS::Open 'w' 19 '__log'>;
}

$ENTRY CloseLog = /* пусто */;

$END CoreBE::MSelfDiag.
